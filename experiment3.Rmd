---
output: html_document
---

### Missing data

Try the MCMC version of the algorithm, with continuous outcome (linear regression on the latent space). 

Hide $\{5\%, 10\%, 25\%, 50\%\}$ of the training data in $\{1, 2\}$ of the views. That is, 

- generate data for 4 gaussian views, each with 10 features
- pick a view
- choose randomly x% of individuals and set their values in theat view to NA
- observe accuracy ($R^2$) on training data

```{r}
source("experiment.R")
H = rbind(c(1, 1, 1, 1), 
          c(1, 1, 1, 0), 
          c(1, 0, 1, 1), 
          c(1, 1, 0, 1), 
          c(1, 0, 0, 1), 
          c(0, 1, 1, 0))

set.seed(0)
R = nrow(H)
d = c(10, 10, 10, 10)
type = rep("gaussian", 4)
res = experiment_missing_data(prop_individuals = c(0, 0.1, 0.25, 0.5, 0.75), H, d, type, R, n_views = c(1, 2))
df.m = melt(res, measure.vars = c("test", "train"))
ggplot(df.m, aes(factor(prop_missing),value, col=variable)) + geom_boxplot() + theme_bw() + facet_wrap(~n_views)

```

